---
import BtnWhatsapp from "../components/BtnWhatsapp.astro";
import BackgroundEffects from "../components/sets/BackgroundEffects7.astro";
import Layout from "../layouts/Layout.astro";
import { getCollection, render } from "astro:content";



const sets = await getCollection("sets");

// ordenar por slug del numero mas alto al numero 1
const sortedBySlug = sets.sort((a, b) => b.slug.localeCompare(a.slug));
const { Content } = await render(sets[0]);

console.log(Content)

---
 
<Layout>
    <BtnWhatsapp />
    <BackgroundEffects>
        <section class="container-sets">
            <div class="box-tittle">
                <h1>Sets</h1>
            </div>
            <div class="container">
                
                {   
                    sortedBySlug.map(
                        (element) => (
                            <div class="card">
                                <div class="box-video">
                                        <iframe 
                                            width="100%" 
                                            height="100%" 
                                            src={`https://www.youtube.com/embed/${element.data.link}`} 
                                            title={element.data.nombre} 
                                            frameborder="0"
                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                            allowfullscreen>
                                        </iframe>
                                </div>
                                
                                <div class="card-content">
                                    <Content></Content>
                                </div>
                            </div>
                        )
                    )
                }


            </div>
        </section>
    </BackgroundEffects>
</Layout>


<style>
    .box-tittle {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .box-tittle h1 {
        font-size: 45px;
        font-family: "Neo-latina" ,sans-serif;
        color: #fff;
    }

    .container {
        
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 30px;
        padding: 80px 40px 40px 80px;
    }

    .card {

        background: transparent;
        border-radius: 15px;
        z-index: 5;
        border: 3px solid #0FF0FC ;
        font-family: "Cocogoose" ,sans-serif;
        height: 533px;
    }
 
    .card > .box-video {


    width: 500px;
    aspect-ratio: 4/3;

    border-radius: 16px 16px 0 0;
    transition: all 0.6s cubic-bezier(0.43, 0.41, 0.22, 0.91);
    z-index: 10;
    cursor: pointer;
    }

.card > .box-video:hover {

}

.box-video iframe {
    border-radius: 15px;

} 
.card-content {
    background: transparent;
    display: flex;
    flex-direction: column;
    padding: 20px 0px;
    justify-content: center;
    align-items:center ;

      font-size: 1rem !important;
  text-align: center !important;
  font-weight: 600 !important;
  margin-bottom: 10px !important;
  max-width: 450px !important;
  color: #0FF0FC !important;
  background-color: #000 !important;
  padding: 6px !important;
  border-radius: 10px !important;
  border: #fff 1px solid !important;
    
}
strong {
    font-family: sans-serif !important;
    font-size: medium !important;
}

.card-content > p {
  margin-bottom: 10px;
}

.card-content p {
  font-size: 1rem !important;
  text-align: center !important;
  font-weight: 600 !important;
  margin-bottom: 10px !important;
  max-width: 450px !important;
  color: #0FF0FC !important;
  background-color: #000 !important;
  padding: 6px !important;
  border-radius: 10px !important;
  border: #fff 1px solid !important;
}


    
</style>